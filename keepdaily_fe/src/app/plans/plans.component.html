<div class="plans">
    <button (click)="add()">‚ûï</button>

    <ul *ngFor="let plan of planList; index as i">
        <li>
            <ng-container *ngIf="edit==i else readonly">
                <label class="field required">
                    <input type="text" [(ngModel)]="plan.title" maxlength="20">
                </label>
    
                <label class="field required">
                    <input type="text" [(ngModel)]="plan.description" maxlength="50">
                </label>

                <label class="field">
                    <span class="field-title required">Start From</span>
                    <input type="date" [(ngModel)]="plan.startFrom" [min]="today">
                </label>
                
                <label class="field">
                    <span class="field-title">Category</span>
                    <select [(ngModel)]="plan.categoryId">
                        <option value="null">Select a category</option>
                    </select>   
                </label>

                <div class="btns">
                    <button (click)="save(plan)">üíæ</button>
                    <button (click)="closeEditor(plan)">‚ùå</button>
                </div>
            </ng-container>
            <ng-template #readonly>
                <label>
                    <a [routerLink]="['/plan', plan.id]">{{ plan.title }}</a>
                </label>

                <label>
                    {{ plan.description }}
                </label>

                <label>
                    {{ plan.startFrom }}
                </label>

                <label>
                    {{ plan.categoryId }}
                </label>

                <div class="btns">
                    <button (click)="edit = i">‚úèÔ∏è</button>
                    <button (click)="delete(plan.id, i)">üóëÔ∏è</button>
                </div>
            </ng-template>
        </li>
    </ul>
</div>